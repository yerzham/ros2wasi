diff --git a/ament_index_cpp/CMakeLists.txt b/ament_index_cpp/CMakeLists.txt
index f26ae36..800d14e 100644
--- a/ament_index_cpp/CMakeLists.txt
+++ b/ament_index_cpp/CMakeLists.txt
@@ -20,15 +20,30 @@ unless the library was explicitly added as a static library."
 
 find_package(ament_cmake REQUIRED)
 
-add_library(${PROJECT_NAME}
-  src/get_package_prefix.cpp
-  src/get_package_share_directory.cpp
-  src/get_packages_with_prefixes.cpp
-  src/get_resource.cpp
-  src/get_resources.cpp
-  src/get_search_paths.cpp
-  src/has_resource.cpp
-)
+# For WASM, build as static library to avoid typeinfo/RTTI issues with shared libraries
+if(CMAKE_SYSTEM_NAME STREQUAL "WASI")
+  add_library(${PROJECT_NAME} STATIC
+    src/get_package_prefix.cpp
+    src/get_package_share_directory.cpp
+    src/get_packages_with_prefixes.cpp
+    src/get_resource.cpp
+    src/get_resources.cpp
+    src/get_search_paths.cpp
+    src/has_resource.cpp
+  )
+  # Static library needs PIC when linked into shared library
+  set_target_properties(${PROJECT_NAME} PROPERTIES POSITION_INDEPENDENT_CODE ON)
+else()
+  add_library(${PROJECT_NAME}
+    src/get_package_prefix.cpp
+    src/get_package_share_directory.cpp
+    src/get_packages_with_prefixes.cpp
+    src/get_resource.cpp
+    src/get_resources.cpp
+    src/get_search_paths.cpp
+    src/has_resource.cpp
+  )
+endif()
 target_compile_definitions(${PROJECT_NAME} PRIVATE "AMENT_INDEX_CPP_BUILDING_DLL")
 target_include_directories(${PROJECT_NAME} PUBLIC
   "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>"
